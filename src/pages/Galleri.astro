---
//@ts-nocheck
import { late } from "astro:schema";
import GalleryCard from "../components/GalleryCard.astro";
import SelectButton from "../components/SelectButton.astro";
import Layout from "../layouts/Layout.astro";

const url = "https://zyxwycthnsawqveghsdr.supabase.co/rest/v1/galleri";
const key =
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp5eHd5Y3RobnNhd3F2ZWdoc2RyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgzNDI1MDcsImV4cCI6MjA2MzkxODUwN30.oKnpJzXhTYqQFPO7ebhUAXa2BuuhEH7Mxzho0VghZeI";

const options = {
  headers: {
    apikey: key,
  },
};

const data = await fetch(url, options).then((res) => {
  return res.json();
});

console.log(data);
console.log("oirjgwjio");

const formatDate = (dateString) =>
  new Date(dateString).toLocaleDateString(undefined, {
    year: "numeric",
    month: "long",
    day: "numeric",
  });
console.log(formatDate(data[0].event_date));
---

<Layout>
  <h1>Gallery</h1>
  <div class="selector">
    <SelectButton Text="Galleri" Link="kontakt.html" />
    <SelectButton Text="Scoremestre" Link="kontakt.html" />
    <SelectButton Text="Klubmestre" Link="kontakt.html" />
    <SelectButton Text="Julemestre" Link="kontakt.html" />
  </div>
  <div class="pictureGrid">
    <img
      src="/public/gallerypage/moodPicture1.webp"
      alt="stemningsbillede"
      id="picture1"
    />
    <img
      src="/public/gallerypage/moodPicture2.webp"
      alt="stemningsbillede"
      id="picture2"
    />
    <img
      src="/public/gallerypage/moodPicture3.webp"
      alt="stemningsbillede"
      id="picture3"
    />
    <img
      src="/public/gallerypage/moodPicture4.webp"
      alt="stemningsbillede"
      id="picture4"
    />
  </div>

  <div class="grid">
    <ul>
      {data.map((product) => <GalleryCard {product} />)}
    </ul>

    <div class="galleri">
      <img src="https://cataas.com/cat" alt="instagram" />
      <img src="https://cataas.com/cat" alt="instagram" />
      <img src="https://cataas.com/cat" alt="instagram" />
      <img src="https://cataas.com/cat" alt="instagram" />
      <img src="https://cataas.com/cat" alt="instagram" />
      <img src="https://cataas.com/cat" alt="instagram" />
      <img src="https://cataas.com/cat" alt="instagram" />
      <img src="https://cataas.com/cat" alt="instagram" />
    </div>
  </div>
</Layout>
<style>
  ul {
    display: contents;
  }
  .pictureGrid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 25px;
    margin: 20px;
  }
  .pictureGrid img {
    border-radius: var(--BorderRadiusSmall);
    object-fit: cover;

    height: 100%;
  }

  #picture1 {
    grid-column: 1/3;
    grid-row: 1/2;
  }

  #picture4 {
    grid-column: 1/3;
    grid-row: 3/4;
  }
  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    grid-auto-rows: auto;
    margin: 0 auto;
    gap: 25px;
  }

  .selector {
    display: flex;
    flex-wrap: wrap;
  }

  @media (min-width: 800px) {
    .pictureGrid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
    }

    #picture1 {
      grid-column: 1/3;
      grid-row: 1/3;
      object-fit: cover;
    }
    #picture2 {
      grid-column: 3/4;
      grid-row: 1/2;
    }
    #picture3 {
      grid-column: 4/5;
      grid-row: 1/2;
    }

    #picture4 {
      grid-column: 3/5;
      grid-row: 2/3;
    }
  }
</style>
